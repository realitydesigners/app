---
import DarkBlogPost from '../../components/DarkBlogPost.astro'
import LightBlogPost from '../../components/LightBlogPost.astro'
import Layout from '../../layouts/Layout.astro'
import { getPostBySlug } from '../../lib/api.js'

export async function getStaticPaths() {
  const allBlogPosts = await getPostBySlug()

  return allBlogPosts.map((post: any) => ({
    params: { slug: post.slug.current },
    props: { post },
  }))
}

const { post = {} as any } = Astro.props
---

<Layout title="Reality Designers">
  {post.layout === 'dark' && <DarkBlogPost post={post} />}
  {post.layout === 'light' && <LightBlogPost post={post} />}
</Layout>
