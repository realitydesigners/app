---
import CategoryGrid from '../components/three/CategoryGrid.jsx'
import Quote from '../components/three/Quote.jsx'
import SanityGLB from '../components/three/SanityGLB.jsx'
import SplineGLB from '../components/three/SplineGLB.jsx'
import TunnelPosts from '../components/three/TunnelPosts.jsx'
import Layout from '../layouts/Layout.astro'
import { getCategory, getModel, getPosts, getQuote } from '../lib/api.js'
import { fileUrlFor } from '../utils/urlFor'
import '@fontsource/rajdhani/500.css'
import '@fontsource/rajdhani/700.css'

const posts = await getPosts()
const category = await getCategory()
const quotes = await getQuote()
const model = await getModel()

const modelUrl = fileUrlFor(model[0]?.file?.asset._ref)
console.log('Generated Model URL:', modelUrl)
---

<Layout title="Reality Designers">
  <main class="w-screen relative h-full lg:p-8 p-4">
    <div class="w-full pt-20 flex pb-8 justify-center items-center">
      <h1 class="text-white text-5xl lg:text-8xl font-mono uppercase">
        All Assets
      </h1>
    </div>
    <SanityGLB client:load model={model} />
    <SplineGLB client:load />
    <Quote quotes={quotes} client:load />
    <TunnelPosts posts={posts} client:load />
    <CategoryGrid category={category} client:load />
  </main>
</Layout>

<style>
  h1,
  h2,
  h3 {
    font-family: 'Rajdhani', sans-serif;
    font-weight: 700;
  }

  p,
  li {
    font-family: 'Rajdhani', sans-serif;
    font-weight: 500;
  }

  .rajdhani {
    font-family: 'Rajdhani', sans-serif;
  }
</style>
